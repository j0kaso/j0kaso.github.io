<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">

        <title>Sharing-MDsrv</title>

        <meta name="description" content="">
        <meta name="author" content="Johanna K S Tiemann">

        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <link rel="stylesheet" href="css/reveal.css">
        <link rel="stylesheet" href="css/theme/white.css" id="theme">

        <!-- Theme used for syntax highlighting of code -->
        <link rel="stylesheet" href="lib/css/zenburn.css">

    <style>
        .reveal .slides > section {
            background-color: rgba(255, 255, 255, 0.9);
        }
        .inactive {
            color: #999;
        }
        .warning {
            color: #eea236;
        }
        .success {
            color: #4cae4c;
        }
        .top {
            top: 100px !important;
        }
        .bottom {
            top: unset !important;
            bottom: 100px !important;
        }
        .reveal .speaker-notes {
            width: 50%;
            left: 25%;
        }

        .x {
            position:relative;
        }

        .x:before, .x:after{
            content:'';
            position:absolute;
            width:100%;
            height:10px;
            background-color:tomato;
            top:140px;
        }

        .x:before {
            -webkit-transform:rotate(45deg);
            -moz-transform:rotate(45deg);
            transform:rotate(45deg);
            left:2px;
        }
        .x:after {
            -webkit-transform:rotate(-45deg);
            -moz-transform:rotate(-45deg);
            transform:rotate(-45deg);
            right:2px;
        }
    </style>
        <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class="reveal">


            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">
                <small id="busy" style="display:none; position:absolute; top:0px; right:0px;">Loading...</small>

                <div id="viewport" style="width:960px; height:700px;"></div>
<!-- INTRO --> 

                <section data-state="slide-loading">
                    <h2 id="status">Loading...</h2>
                </section>

                <section data-state="slide-title">
                    <div>Session II: Tools for Trajectory File Sharing</div>
                    <h2 style="text-transform: none">Viewing and sharing molecular dynamics simulations on the web</h2>
                    <br>
                    <p><small>2018-11-26</small></p>
                    <p><small>Johanna Tiemann<br>AG Hildebrand &minus; University Leipzig</small></p>
                    <br>
                    <img class="plain" style="width:20%;" src="img/L-logo.jpg" />
                </section>
                <section  style="z-index:100">
                    <section data-state="slide-billion">
                        <h3>SHARING - why should I care?</h3>
                        <br>
                        <br>
                        <figure role="group">
                            <img class="plain" style="width:50%" src="img/collaboration.jpg" />
                            <figcaption><font size="2">www.wikicsr.it</font></figcaption>
                        </figure>
                        <aside class="notes">
                            Naturally, we can not achieve knowledge just by ourself, scientists have to and want to exchange and discuss their observations and interpretations. By sharing their knowledge, it gets reused to gain further knowledge and thereby gives credit to the scientists themselves. So how is this sharing of knowledge and research results done within in the MD community?
                        </aside>
                    </section>

                    <section data-state="slide-billion">
                        <h3>What's the standard?</h3>
                        <table >
                                <th class="fragment" >
                                    <p align="center">Text</p>
                                    <p align="center">&#8659;</p>
                                    <div style="width: 300px;"><img class="plain" src="img/pubmed2.png" /></div>
                                </th>
                                <th class="fragment" >
                                    <p align="center">Figures</p>
                                    <p align="center">&#8659;</p>
                                    <div style="width: 300px;"><img class="plain"src="img/ncomms14505-f10.jpg" /></div>
                                </th>
                                <th class="fragment" >
                                    <p align="center">Videos</p>
                                    <p align="center">&#8659;</p>
                                    <div align="center" style="width: 300px; height: 300px"><video data-autoplay loop="2" src="./data/ncomms14505-s3.mp4"></video></div>
                                </th>
                        </table>

                    </section>
                    <section data-state="slide-title" data-transition="none">
                        <h3 style="position: absolute; top: 0px; left: 0px; right: 0px;">Unfortunately not this:</h3>
                        <p style="position: absolute; bottom:-692px; left: 0px; right: 0px;"> </p>

                    </section>
                    <section data-state="slide-billion" data-transition="none">
                        <h3>Obstacles to overcome for visual sharing:</h3>
                        <br>
                        <ul>
                            <li class="fragment">large size<font style="opacity: 0">&rArr; <strong>NGL viewer</strong></font></li>
                            <li class="fragment">various formats<font style="opacity: 0">&rArr; <strong>MDAnalysis & MDTraj</strong></font></li>
                            <li class="fragment">raw trajectories<font style="opacity: 0">&rArr; <strong>NGL viewer</strong></font></li>
                            <li class="fragment">expert software<font style="opacity: 0">&rArr; <strong>NGL viewer</strong></font></li>
                            <li class="fragment">sharable?</li>
                        </ul>
                        <p><font style="opacity: 0"><strong>&rArr; MDsrv</strong></font></p>
                        <br>
                        <p style="opacity: 0; position: absolute; bottom: 0px; right: 0px; left: 0px;"><font size="2" ><a href="http://dx.doi.org/10.1093/nar/gkv402">Rose & Hildebrand (2015). NGL Viewer: a web application for molecular visualization. Nucleic Acids Res., 43(W1), W576-9.</a> </font></p>
                        <p style="opacity: 0; position: absolute; bottom: -20px; right: 0px; left: 0px;"><font size="2" ><a href="http://dx.doi.org/10.1002/jcc.21787">Michaud-Agrawal, et al. (2011). MDAnalysis: a toolkit for the analysis of molecular dynamics simulations. J Comput Chem., 32 (10), 2319-27.</a> </font></p>
                        <p style="opacity: 0; position: absolute; bottom: -40px; right: 0px; left: 0px;"><font size="2" ><a href="http://dx.doi.org/10.1016/j.bpj.2015.08.015">McGibbon, et al. (2015). MDTraj: A Modern Open Library for the Analysis of Molecular Dynamics Trajectories. Biophys J., 109 (8), 1528-32.</a> </font></p>
                        <p style="opacity: 0; position: absolute; bottom: -60px; right: 0px; left: 0px;"><font size="2" ><a href="http://dx.doi.org/10.1038/nmeth.4497">Tiemann, et al. (2017). MDsrv: viewing and sharing molecular dynamics simulations on the web. Nat Methods., 14 (12), 1123-1124.</a> </font></p>

                    </section>
                </section>
<!-- MDsrv -->
                <section>
                    <section data-state="slide-billion">
                        <h3 style="position: absolute; top: 0px; right: 0px; left: 0px;">Web developments</h3>
                        <table >
                                <th class="fragment" >
                                    <p/>
                                    <div  style="width: 300px;"><img class="plain" src="img/plugs.png" /></div>
                                    <div class="fragment">
                                        <p align="center">&#8659;</p>
                                        <div align="center" style="width: 300px;"><img class="plain" src="img/web.png" /></div>
                                    </div>
                                </th>
                                <th>
                                    <div align="center" style="width: 150px; align-content: middle"><p></p></div>
                                </th>
                                <th>
                                    <div style="width: 450px; align-content: middle"></div>
                                </th>
                        </table>
                        <div class="fragment" >
                            <p style="position: absolute; bottom: 295px; right: 120px; left: -120px;"><strong>&rArr;</strong></p>
                            <div  style="position: absolute; right: 0px; top: 90px; width: 150px"><img class="plain" src="img/alex.jpg" /><p><small>Alex Rose</small></p></div>
                            <div  style="position: absolute; right: -400px; left: 400px; top: 90px; bottom: -50px; width: 400px"><img class="plain" src="img/ngl.png" /></div>
                            <p style="position: absolute; bottom: -50px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1093/nar/gkv402"><strong>NGL Viewer: </strong> Rose & Hildebrand (2015). Nucleic Acids Res., 43(W1), W576-9.</a> </font></p>
                        </div>
                        <aside class="notes">
                            Until recently, web browsers could not display 3D content without additional plug-ins like Java Applets or Flash. With the rise of the web as a platform for applications, more capabilities have been added to the web browsers, including HTML5 and the web browser programming language JavaScript. Together with its access to dedicated graphics hardware through WebGL API to calculate on the GPU directly, rendering performance and quality has notably improved. By now, WebGL and HTML5 is standard in every modern web browser.
                        </aside>
                    </section>
                    <section data-state="slide-zika" data-transition="none">
                        <h3 id="status" style="position: absolute; top: 0px; right: 0px; left: 0px; text-transform: none">NGL viewer</h3>
                        <p style="position: absolute; bottom:-692px; left: 0px; right: 0px;"> </p>

                    </section>
                    <section data-state="slide-zika2" data-transition="none">
                        <h3 id="status" style="position: absolute; top: 0px; right: 0px; left: 0px; text-transform: none">NGL viewer</h3>
                        <p style="position: absolute; bottom:-692px; left: 0px; right: 0px;"> </p>
                    </section>
                    <section data-state="slide-billion" data-transition="none">
                        <h3>Obstacles to overcome for visual sharing:</h3>
                        <br>
                        <ul>
                            <li><font style="opacity: 0.5">large size </font>&rArr; <strong>NGL viewer</strong></li>
                            <li><font style="opacity: 1">various formats </font><font style="opacity: 0">&rArr; <strong>MDAnalysis & MDTraj </strong></font></li>
                            <li><font style="opacity: 0.2">raw  trajectories </font><font style="opacity: 0">&rArr; <strong>NGL viewer </strong></font></li>
                            <li><font style="opacity: 0.2">expert software </font><font style="opacity: 0">&rArr; <strong>NGL viewer </strong></font></li>
                            <li><font style="opacity: 0.2">sharable? </font></li>
                        </ul>
                        <p><font style="opacity: 0"><strong>&rArr; MDsrv</strong></font></p>
                        <br>
                        <p style="opacity: 1; position: absolute; bottom: -5px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1093/nar/gkv402"><strong>NGL Viewer: </strong> Rose & Hildebrand (2015). Nucleic Acids Res., 43(W1), W576-9.</a> </font></p>
                        <p style="opacity: 0.2; position: absolute; bottom: -40px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1002/jcc.21787"><strong>MDAnalysis: </strong> Michaud-Agrawal, et al. (2011). J Comput Chem., 32 (10), 2319-27.</a> </font></p>
                        <p style="opacity: 0.2; position: absolute; bottom: -75px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1016/j.bpj.2015.08.015"><strong>MDTraj: </strong> McGibbon, et al. (2015). Biophys J., 109 (8), 1528-32.</a> </font></p>
                        <p style="opacity: 0.2; position: absolute; bottom: -110px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1038/nmeth.4497"><strong>MDsrv: </strong> Tiemann, et al. (2017). Nat Methods., 14 (12), 1123-1124.</a> </font></p>
                    </section>
                    <section data-state="slide-billion" data-transition="none">
                        <h3>Obstacles to overcome for visual sharing:</h3>
                        <br>
                        <ul>
                            <li><font style="opacity: 0.5">large size </font>&rArr; <strong>NGL viewer</strong></li>
                            <li><font style="opacity: 0.5">various formats </font>&rArr; <strong>MDAnalysis & MDTraj</strong></li>
                            <li><font style="opacity: 1">raw trajectories </font><font style="opacity: 0">&rArr; <strong>NGL viewer </strong></font></li>
                            <li><font style="opacity: 0.2">expert software </font><font style="opacity: 0">&rArr; <strong>NGL viewer </strong></font></li>
                            <li><font style="opacity: 0.2">sharable? </font></li>
                        </ul>
                        <p><font style="opacity: 0"><strong>&rArr; MDsrv</strong></font></p>
                        <br>
                        <p style="opacity: 1; position: absolute; bottom: -5px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1093/nar/gkv402"><strong>NGL Viewer: </strong> Rose & Hildebrand (2015). Nucleic Acids Res., 43(W1), W576-9.</a> </font></p>
                        <p style="opacity: 1; position: absolute; bottom: -40px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1002/jcc.21787"><strong>MDAnalysis: </strong> Michaud-Agrawal, et al. (2011). J Comput Chem., 32 (10), 2319-27.</a> </font></p>
                        <p style="opacity: 1; position: absolute; bottom: -75px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1016/j.bpj.2015.08.015"><strong>MDTraj: </strong> McGibbon, et al. (2015). Biophys J., 109 (8), 1528-32.</a> </font></p>
                        <p style="opacity: 0.2; position: absolute; bottom: -110px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1038/nmeth.4497"><strong>MDsrv: </strong> Tiemann, et al. (2017). Nat Methods., 14 (12), 1123-1124.</a> </font></p>
                    </section>
                    <section data-state="slide-billion" data-transition="none">
                        <h3>Obstacles to overcome for visual sharing:</h3>
                        <br>
                        <ul>
                            <li><font style="opacity: 0.5">large size </font>&rArr; <strong>NGL viewer</strong></li>
                            <li><font style="opacity: 0.5">various formats </font>&rArr; <strong>MDAnalysis & MDTraj</strong></li>
                            <li><font style="opacity: 0.5">raw  trajectories </font>&rArr; <strong>NGL viewer</strong></li>
                            <li><font style="opacity: 1">expert software </font><font style="opacity: 0">&rArr; <strong>NGL viewer </strong></font></li>
                            <li><font style="opacity: 0.2">sharable? </font></li>
                        </ul>
                        <p><font style="opacity: 0"><strong>&rArr; MDsrv</strong></font></p>
                        <br>
                        <p style="opacity: 1; position: absolute; bottom: -5px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1093/nar/gkv402"><strong>NGL Viewer: </strong> Rose & Hildebrand (2015). Nucleic Acids Res., 43(W1), W576-9.</a> </font></p>
                        <p style="opacity: 1; position: absolute; bottom: -40px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1002/jcc.21787"><strong>MDAnalysis: </strong> Michaud-Agrawal, et al. (2011). J Comput Chem., 32 (10), 2319-27.</a> </font></p>
                        <p style="opacity: 1; position: absolute; bottom: -75px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1016/j.bpj.2015.08.015"><strong>MDTraj: </strong> McGibbon, et al. (2015). Biophys J., 109 (8), 1528-32.</a> </font></p>
                        <p style="opacity: 0.2; position: absolute; bottom: -110px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1038/nmeth.4497"><strong>MDsrv: </strong> Tiemann, et al. (2017). Nat Methods., 14 (12), 1123-1124.</a> </font></p>
                    </section>
                    <section data-state="slide-billion" data-transition="none">
                        <h3>Obstacles to overcome for visual sharing:</h3>
                        <br>
                        <ul>
                            <li><font style="opacity: 0.5">large size </font>&rArr; <strong>NGL viewer</strong></li>
                            <li><font style="opacity: 0.5">various formats </font>&rArr; <strong>MDAnalysis & MDTraj</strong></li>
                            <li><font style="opacity: 0.5">raw trajectories </font>&rArr; <strong>NGL viewer</strong></li>
                            <li><font style="opacity: 0.5">expert software </font>&rArr; <strong>NGL viewer</strong></li>
                            <li><font style="opacity: 1">sharable? </font></li>
                        </ul>
                        <p><font style="opacity: 0"><strong>&rArr; MDsrv </strong></font></p>
                        <br>
                        <p style="opacity: 1; position: absolute; bottom: -5px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1093/nar/gkv402"><strong>NGL Viewer: </strong> Rose & Hildebrand (2015). Nucleic Acids Res., 43(W1), W576-9.</a> </font></p>
                        <p style="opacity: 1; position: absolute; bottom: -40px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1002/jcc.21787"><strong>MDAnalysis: </strong> Michaud-Agrawal, et al. (2011). J Comput Chem., 32 (10), 2319-27.</a> </font></p>
                        <p style="opacity: 1; position: absolute; bottom: -75px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1016/j.bpj.2015.08.015"><strong>MDTraj: </strong> McGibbon, et al. (2015). Biophys J., 109 (8), 1528-32.</a> </font></p>
                        <p style="opacity: 0.2; position: absolute; bottom: -110px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1038/nmeth.4497"><strong>MDsrv: </strong> Tiemann, et al. (2017). Nat Methods., 14 (12), 1123-1124.</a> </font></p>
                    </section>
                    <section data-state="slide-billion" data-transition="none">
                        <h3>Obstacles to overcome for visual sharing:</h3>
                        <br>
                        <ul>
                            <li><font style="opacity: 0.5">large size </font>&rArr; <strong>NGL viewer</strong></li>
                            <li><font style="opacity: 0.5">various formats </font>&rArr; <strong>MDAnalysis & MDTraj</strong></li>
                            <li><font style="opacity: 0.5">raw trajectories </font>&rArr; <strong>NGL viewer</strong></li>
                            <li><font style="opacity: 0.5">expert software </font>&rArr; <strong>NGL viewer</strong></li>
                            <li><font style="opacity: 0.5">sharable? </font></li>
                        </ul>
                        <p><strong>&rArr; MDsrv</strong></p>
                        <br>
                        <p style="position: absolute; bottom: -5px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1093/nar/gkv402"><strong>NGL Viewer:</strong> Rose & Hildebrand (2015). Nucleic Acids Res., 43(W1), W576-9.</a> </font></p>
                        <p style="position: absolute; bottom: -40px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1002/jcc.21787"><strong>MDAnalysis: </strong> Michaud-Agrawal, et al. (2011). J Comput Chem., 32 (10), 2319-27.</a> </font></p>
                        <p style="position: absolute; bottom: -75px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1016/j.bpj.2015.08.015"><strong>MDTraj: </strong> McGibbon, et al. (2015). Biophys J., 109 (8), 1528-32.</a> </font></p>
                        <p style="position: absolute; bottom: -110px; left: 0px;"><font size="5" ><a href="http://dx.doi.org/10.1038/nmeth.4497"><strong>MDsrv: </strong> Tiemann, et al. (2017). Nat Methods., 14 (12), 1123-1124.</a> </font></p>
                    </section>

                    <section data-state="slide-title">
                        <h3 style="position: absolute; top: -10px; left: 0px; right: 0px; text-transform: none;">MDsrv</h3>
                        <p>program for interactive & remote exploration of trajectories by employing a client-server architecture</p>
                        <p class="fragment" style="position: absolute; bottom:-500px; left: 0px; right: 0px;"><strong>tool to stream trajectories over the web</strong></p>
                        <p style="position: absolute; bottom:-692px; left: 0px; right: 0px;"> </p>
                        <div class="fragment">
                           <p style="position: absolute; bottom:-550px; left: 0px; right: 0px;"><font size="4" ><a href="http://dx.doi.org/10.1038/ncomms14505">Guixà-González, et al. (2017). Membrane cholesterol access into a G-protein-coupled receptor. Nat Commun., 8, 14505.</a> </font></p>
                            <p style="position: absolute; bottom: -300px; top: 300px; left: 250px; right: -350px;"><big><strong>https://goo.gl/aLXK48</strong></big></p>
                        </div>
                    </section>

                    <section data-state="slide-billion">
                        <h3>Summary</h3>
                        <ul>
                            <li>Text, Figures & Videos &rarr; not enough</li>
                            <li>Web developments &rarr; NGL = powerful visualization</li>
                            <li>various formats handled by MDAnalysis & MDTraj</li>
                            <li>MDsrv: now sharing over the web possible!</li>
                        </ul>

                    </section>


                    <section data-state="slide-billion">
                        <h3>Next steps @Hildebrand lab:</h3>
                        <ul>
                            <li>On-line Tutorials & Workshops</li>
                            <li>Outreach towards Journals & Funding agencies</li>
                            <li>MDsrv: continuous development</li>
                            <li>NGL improvements through Alex Rose</li>
                            <li>Support of platforms such as GPCRmd</li>
                        </ul>

                    </section>
                    <section>
                        <p>
                            &ldquo;All knowledge is connected to all other <br>knowledge. The fun is in making <br>the connections.&rdquo;
                            <br><small>Arthur C. Aufderheide (1922 - 2013, paleopathologist)</small>
                        </p>
                        <br>
                        <h3>Thank you!</h3>
                        <br>
                        <small><p>Peter Hildebrand (University Leipzig & Charité Berlin)</p>
                        <p>Alex Rose (UC San Diego)</p>
                        <p>Ramon Guixà-Gonzáles (Charité Berlin & Universitat Autònoma de Barcelona)</p></small>
                        <img style="z-index:-1; opacity: 0.3; position: absolute; left: 25px; bottom: 0px; right: -25px; top: 0px;" class="plain" src="img/group.jpg" />
                    </section>
                    <section data-state="slide-billion">
                        <h3>Goal reached?</h3>
                        <br>
                        <p>transparency, reuse, reliability for MDs</p>
                        <br>
                        <p>&rarr; GPCRmd project</p>
                    </section>

                </section>
<!-- #################################################################################### -->
            </div>

        </div>

        <script src="lib/js/head.min.js"></script>
        <script src="js/reveal.js"></script>
        <script src="js/ngl.js"></script>
        <script>

var stage;
document.addEventListener( "DOMContentLoaded", function(){
    Reveal.initialize({
        controls: true,
        showNotes: false,
        width: 960,
        height: 700,
        slideNumber: true,
        // width: 1280,
        // height: 933,
        dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'plugin/zoom-js/zoom.js', async: true },
                    { src: 'plugin/notes/notes.js', async: true },
                 ]
    });



    stage = new NGL.Stage( "viewport", {
        backgroundColor: "white",
        sampleLevel: -1
    } );
    function handleResize(){
        stage.handleResize();
    }
    window.addEventListener( "resize", handleResize, false );

    stage.tasks.signals.countChanged.add( function( delta, count ){
        document.getElementById( "busy" ).style.display = count > 0 ? "block" : "none";
        document.getElementById( "status" ).innerHTML = count > 0 ? "Loading..." : "Ready!";
    } );


    var _A2A_C;
    var trajComp;
    var player;
    stage.loadFile( "./data/entrance_wrapped.gro", {asTrajectory: true} ).then( function( comp ){
        _A2A_C = comp;
        comp.addRepresentation( "tube", { sele: "", opacity: 1, side: "front" } );
        comp.addRepresentation( "hyperball", { visible: true, sele: "CHL1 and 59 and not hydrogen", colorValue: "#ff3900", colorScheme: "element", opacity: 0.9 } );
        stage.setOrientation([[-0.08918625838576302,1.9883218034604453,4.486656641720855],[126.77370242780779,1.4149585652999876,22.87269897008708],[-0.14316526306884436,-0.09882771206771168,0.9847521468765403]])
        trajComp = comp.addTrajectory();
        player = new NGL.TrajectoryPlayer( trajComp.trajectory );
        player.play();

    } );

    var _5IRE;
    stage.loadFile( "./data/5IRE.mmtf.gz" ).then( function( o ){
        _5IRE = o;
        o.addRepresentation( "licorice", {
            colorScheme: "chainindex",
            colorScale: "RdYlBu",
            assembly: "BU1",
            useWorker: true,
            visible: true,
        } );
        _5IREsurface = o.addRepresentation( "surface", {
            scaleFactor: 0.2,
            surfaceType: "sas",
            probeRadius: 1.5,
            colorScheme: "chainindex",
            colorScale: "RdYlBu",
            assembly: "BU1",
            useWorker: true,
            visible: true,
            side: "front"
        } );
        var bb = o.structure.biomolDict[ "BU1" ].getBoundingBox( o.structure );
        stage.viewer.center( bb.center() );
        stage.viewer.zoom( bb.size().length() / 1.4, true );
    } );

    function hideAll(){
        stage.eachComponent( function( comp ){
            comp.setVisibility( false );
        } );
    }

    Reveal.addEventListener( "slide-title", function(){
        hideAll();
        _A2A_C.setVisibility( true );
        var cc = _A2A_C.structure;
        _A2A_C.centerView();

    }, false );

    Reveal.addEventListener( "slide-billion", function(){
        stage.setSpin( null );
        stage.setParameters( { clipNear: 0 } );
        hideAll();
    }, false );

    var viewer = stage.viewer;
    var controls = viewer.controls;
    var camera = viewer.camera;

    Reveal.addEventListener( "slide-zika", function(){
        hideAll();
        _5IRE.setVisibility( true );
        _5IREsurface.setVisibility( true );

        stage.setSpin( [ 0, 1, 0 ], 0.001 );
        var bb = _5IRE.structure.biomolDict[ "BU1" ].getBoundingBox( _5IRE.structure );
        stage.viewer.center( bb.center() );
        stage.viewer.zoom( bb.size().length() / 1.4, true );
    }, false );

    Reveal.addEventListener( "slide-zika2", function(){
        hideAll();
        _5IRE.setVisibility( true );
        _5IREsurface.setVisibility( false );

        stage.setSpin( [ 0, 1, 0 ], 0.001 );
    }, false );

} );
        </script>

    </body>
</html>
